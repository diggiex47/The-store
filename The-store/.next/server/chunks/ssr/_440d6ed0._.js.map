{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/milo/Project/The-store/src/app/Product/%5Bid%5D/action.ts"],"sourcesContent":["\"use server\";\n\nimport { getCart, createCart } from \"@/lib/cart\";\nimport prisma from \"@/lib/prisma\";\nimport { revalidatePath } from \"next/cache\";\n\nexport async function IncProductCount(productId: string) {\n  const cart = (await getCart()) ?? (await createCart());\n\n  const articleInCart = cart.items.find((item) => item.productId === productId);\n\n  if (articleInCart) {\n    await prisma.cartItem.update({\n      where: { id: articleInCart.id },\n      data: { quantity: {increment: 1} },\n    });\n } else {\n    await prisma.cartItem.create({\n        data: {\n            cartId: cart.id,\n            productId,\n            quantity: 1,\n        },\n });\n}\n\nrevalidatePath(\"/Product/[id]\");\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;;;;;AAEO,eAAe,gBAAgB,SAAiB;IACrD,MAAM,OAAO,AAAC,MAAM,CAAA,GAAA,kHAAA,CAAA,UAAO,AAAD,OAAS,MAAM,CAAA,GAAA,kHAAA,CAAA,aAAU,AAAD;IAElD,MAAM,gBAAgB,KAAK,KAAK,CAAC,IAAI,CAAC,CAAC,OAAS,KAAK,SAAS,KAAK;IAEnE,IAAI,eAAe;QACjB,MAAM,oHAAA,CAAA,UAAM,CAAC,QAAQ,CAAC,MAAM,CAAC;YAC3B,OAAO;gBAAE,IAAI,cAAc,EAAE;YAAC;YAC9B,MAAM;gBAAE,UAAU;oBAAC,WAAW;gBAAC;YAAE;QACnC;IACH,OAAO;QACJ,MAAM,oHAAA,CAAA,UAAM,CAAC,QAAQ,CAAC,MAAM,CAAC;YACzB,MAAM;gBACF,QAAQ,KAAK,EAAE;gBACf;gBACA,UAAU;YACd;QACP;IACD;IAEA,CAAA,GAAA,6HAAA,CAAA,iBAAc,AAAD,EAAE;AACf;;;IArBsB;;AAAA,+OAAA","debugId":null}},
    {"offset": {"line": 57, "column": 0}, "map": {"version":3,"sources":["file:///home/milo/Project/The-store/.next-internal/server/app/Product/%5Bid%5D/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {$$RSC_SERVER_ACTION_0 as '406978e7eac1c73712da718d70bd654ff47c60fb03'} from 'ACTIONS_MODULE0'\nexport {IncProductCount as '40c0c940b552a32ad9ad82295410fa6356fd02f181'} from 'ACTIONS_MODULE1'\n"],"names":[],"mappings":";AAAA;AACA","debugId":null}},
    {"offset": {"line": 127, "column": 0}, "map": {"version":3,"sources":["file:///home/milo/Project/The-store/src/lib/format.ts"],"sourcesContent":["export  function formatPrice(price: number) {\n    return (price).toLocaleString('en-US', {\n        style: 'currency',\n        currency: 'INR',\n    });\n}"],"names":[],"mappings":";;;AAAQ,SAAS,YAAY,KAAa;IACtC,OAAO,AAAC,MAAO,cAAc,CAAC,SAAS;QACnC,OAAO;QACP,UAAU;IACd;AACJ","debugId":null}},
    {"offset": {"line": 142, "column": 0}, "map": {"version":3,"sources":["file:///home/milo/Project/The-store/src/components/priceTag/page.tsx"],"sourcesContent":["import { formatPrice } from \"@/lib/format\"\n\ninterface PriceTagProps {\n    price: number,\n    className?: string,\n}\n\nexport default function PriceTag({price, className}: PriceTagProps){\n\n    return <span className={`badge ${className || ''}`}> {formatPrice(price)}</span>\n}   "],"names":[],"mappings":";;;;AAAA;;;AAOe,SAAS,SAAS,EAAC,KAAK,EAAE,SAAS,EAAgB;IAE9D,qBAAO,8OAAC;QAAK,WAAW,CAAC,MAAM,EAAE,aAAa,IAAI;;YAAE;YAAE,CAAA,GAAA,oHAAA,CAAA,cAAW,AAAD,EAAE;;;;;;;AACtE","debugId":null}},
    {"offset": {"line": 168, "column": 0}, "map": {"version":3,"sources":["file:///home/milo/Project/The-store/src/app/Product/%5Bid%5D/AddToCartButton.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/Product/[id]/AddToCartButton.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/Product/[id]/AddToCartButton.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAA4S,GACzU,0EACA","debugId":null}},
    {"offset": {"line": 182, "column": 0}, "map": {"version":3,"sources":["file:///home/milo/Project/The-store/src/app/Product/%5Bid%5D/AddToCartButton.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/Product/[id]/AddToCartButton.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/Product/[id]/AddToCartButton.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAwR,GACrT,sDACA","debugId":null}},
    {"offset": {"line": 196, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 206, "column": 0}, "map": {"version":3,"sources":["file:///home/milo/Project/The-store/src/app/Product/%5Bid%5D/page.tsx"],"sourcesContent":["import prisma from \"@/lib/prisma\";\nimport { notFound } from \"next/navigation\";\nimport Image from \"next/image\";\nimport PriceTag from \"@/components/priceTag/page\";\nimport { cache } from \"react\";\nimport { Metadata } from \"next\";\nimport AddToCartButton from \"./AddToCartButton\";\nimport { IncProductCount } from \"./action\";\n\n// ✅ Correctly typed props for App Router\ntype ProductPageProps = {\n  params: { id: string };\n  searchParams?: { [key: string]: string | string[] | undefined };\n};\n\n// ✅ Cacheable product fetcher\nconst getProduct = cache(async (id: string) => {\n  const product = await prisma.product.findUnique({ where: { id } });\n  if (!product) notFound();\n  return product;\n});\n\n// ✅ Correctly typed metadata function for dynamic route\nexport async function generateMetadata(\n  { params }: { params: { id: string } }\n): Promise<Metadata> {\n  const product = (await getProduct(params.id));\n\n  return {\n    title: product.name + \" | The Store\",\n    description: product.description,\n    openGraph: {\n      images: [{ url: product.imageUrl }],\n    },\n  };\n}\n\n// ✅ Final working component\nexport default async function ProductPage({ params: { id } }: ProductPageProps) {\n  const product = await prisma.product.findUnique({ where: { id } });\n  if (!product) notFound();\n\n  return (\n    <div className=\"flex flex-col items-center justify-center gap-4 lg:flex-row\">\n      <Image\n        src={product.imageUrl}\n        alt={product.name}\n        width={300}\n        height={300}\n        className=\"rounded-lg shadow-lg\"\n        priority\n      />\n\n      <div>\n        <h1 className=\"text-2xl font-bold mt-4\">{product.name}</h1>\n        <PriceTag price={product.price} className=\"mt-2\" />\n        <p className=\"my-6\">{product.description}</p>\n        <AddToCartButton\n          productId={product.id}\n          IncProductCount={IncProductCount}\n        />\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;;AAAA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;;;;;;;;;AAQA,8BAA8B;AAC9B,MAAM,aAAa,CAAA,GAAA,qMAAA,CAAA,QAAK,AAAD,EAAE,OAAO;IAC9B,MAAM,UAAU,MAAM,oHAAA,CAAA,UAAM,CAAC,OAAO,CAAC,UAAU,CAAC;QAAE,OAAO;YAAE;QAAG;IAAE;IAChE,IAAI,CAAC,SAAS,CAAA,GAAA,qLAAA,CAAA,WAAQ,AAAD;IACrB,OAAO;AACT;AAGO,eAAe,iBACpB,EAAE,MAAM,EAA8B;IAEtC,MAAM,UAAW,MAAM,WAAW,OAAO,EAAE;IAE3C,OAAO;QACL,OAAO,QAAQ,IAAI,GAAG;QACtB,aAAa,QAAQ,WAAW;QAChC,WAAW;YACT,QAAQ;gBAAC;oBAAE,KAAK,QAAQ,QAAQ;gBAAC;aAAE;QACrC;IACF;AACF;AAGe,eAAe,YAAY,EAAE,QAAQ,EAAE,EAAE,EAAE,EAAoB;IAC5E,MAAM,UAAU,MAAM,oHAAA,CAAA,UAAM,CAAC,OAAO,CAAC,UAAU,CAAC;QAAE,OAAO;YAAE;QAAG;IAAE;IAChE,IAAI,CAAC,SAAS,CAAA,GAAA,qLAAA,CAAA,WAAQ,AAAD;IAErB,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,6HAAA,CAAA,UAAK;gBACJ,KAAK,QAAQ,QAAQ;gBACrB,KAAK,QAAQ,IAAI;gBACjB,OAAO;gBACP,QAAQ;gBACR,WAAU;gBACV,QAAQ;;;;;;0BAGV,8OAAC;;kCACC,8OAAC;wBAAG,WAAU;kCAA2B,QAAQ,IAAI;;;;;;kCACrD,8OAAC,sIAAA,CAAA,UAAQ;wBAAC,OAAO,QAAQ,KAAK;wBAAE,WAAU;;;;;;kCAC1C,8OAAC;wBAAE,WAAU;kCAAQ,QAAQ,WAAW;;;;;;kCACxC,8OAAC,mJAAA,CAAA,UAAe;wBACd,WAAW,QAAQ,EAAE;wBACrB,iBAAiB,yIAAA,CAAA,kBAAe;;;;;;;;;;;;;;;;;;AAK1C","debugId":null}}]
}
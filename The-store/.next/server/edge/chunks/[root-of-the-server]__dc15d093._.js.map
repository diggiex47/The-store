{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/middleware.ts"],"sourcesContent":["import { getToken } from \"next-auth/jwt\";\nimport { NextResponse } from \"next/server\";\nimport type { NextRequest } from \"next/server\";\n\n// This function can be marked `async` if using `await` inside\nexport async function middleware(req: NextRequest) {\n  const token = await getToken({ req, secret: process.env.NEXTAUTH_SECRET });\n\n  const { pathname } = req.nextUrl;\n\n  const publicPaths = [\"/signIn\", \"/signUp\"];\n  const isPublicPath =\n    publicPaths.some((path) => pathname.startsWith(path)) || pathname === \"/\";\n\n  const protectedPaths = [\"/dashboard\", \"/add-product\"];\n  const isProtectedPath = protectedPaths.some((path) =>\n    pathname.startsWith(path),\n  );\n\n  if (token) {\n    if (isPublicPath) {\n      // ...redirect them to their dashboard.\n      return NextResponse.redirect(new URL(\"/dashboard\", req.url));\n    }\n  } else {\n    // ...and they try to access a protected page...\n    if (isProtectedPath) {\n      // ...redirect them to the sign-in page.\n      // We add a callbackUrl so they are sent back to the page they\n      // originally wanted to visit after they log in.\n      return NextResponse.redirect(\n        new URL(`/signIn?callbackUrl=${pathname}`, req.url),\n      );\n    }\n  }\n\n  return NextResponse.next();\n}\n\n// See \"Matching Paths\" below to learn more\nexport const config = {\n  matcher: [\"/((?!api/auth|_next/static|_next/image|favicon.ico).*)\"],\n};\n"],"names":[],"mappings":";;;;AAAA;AACA;AAAA;;;AAIO,eAAe,WAAW,GAAgB;IAC/C,MAAM,QAAQ,MAAM,CAAA,GAAA,oJAAA,CAAA,WAAQ,AAAD,EAAE;QAAE;QAAK,QAAQ,QAAQ,GAAG,CAAC,eAAe;IAAC;IAExE,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAI,OAAO;IAEhC,MAAM,cAAc;QAAC;QAAW;KAAU;IAC1C,MAAM,eACJ,YAAY,IAAI,CAAC,CAAC,OAAS,SAAS,UAAU,CAAC,UAAU,aAAa;IAExE,MAAM,iBAAiB;QAAC;QAAc;KAAe;IACrD,MAAM,kBAAkB,eAAe,IAAI,CAAC,CAAC,OAC3C,SAAS,UAAU,CAAC;IAGtB,IAAI,OAAO;QACT,IAAI,cAAc;YAChB,uCAAuC;YACvC,OAAO,6LAAA,CAAA,eAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,cAAc,IAAI,GAAG;QAC5D;IACF,OAAO;QACL,gDAAgD;QAChD,IAAI,iBAAiB;YACnB,wCAAwC;YACxC,8DAA8D;YAC9D,gDAAgD;YAChD,OAAO,6LAAA,CAAA,eAAY,CAAC,QAAQ,CAC1B,IAAI,IAAI,CAAC,oBAAoB,EAAE,UAAU,EAAE,IAAI,GAAG;QAEtD;IACF;IAEA,OAAO,6LAAA,CAAA,eAAY,CAAC,IAAI;AAC1B;AAGO,MAAM,SAAS;IACpB,SAAS;QAAC;KAAyD;AACrE"}}]
}